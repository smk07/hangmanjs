<!DOCTYPE html>
<html> 
    <head>
        <title> Hangman</title>

        <script>
            var answer=[];
            var question=[];
            var y;
            var flag=0;
            var chances=5;
            var flag1=0;
            var inarray=[];
            var flag2=0;
            function play(){
                var x= document.getElementById("in1").value;

                if(x =='y'){
                    answer1 = window.prompt("Enter the Answer: ");
                    answer=Array.from(answer1);

                    question1 = window.prompt("Enter the question :");
                    question=Array.from(question1);
                    inarray=Array.from(question1);

                    for(i=0;i<answer.length;i++)
                        if (inarray[i] == '_')
                            inarray[i]=null;

                    ini();
                }
                else {
                    document.write("Thanks For playing.. Come again..! Byee");
                }
            }

            function ini(){
                document.write("Your Starting question is :");
                for(i=0;i<question.length;i++)
                    document.write(question[i]);

                document.write("<br/>");
                document.write("Enter a Character:");
                document.write("<input type='text' id = 'in2' />");
                
                document.write("<input type='button' value='Enter' onclick='hang()'/> <br/>");
            }

            function getUserInput(){
                var gui=document.getElementById('in2').value;
                for(i=0;i<inarray.length;i++) 
                    if(gui==inarray[i]){
                        flag2=1;
                        break;
                    }
                inarray.push(gui);
                if (chances > 1)
                    return gui;
                

                else return '{';
            }

            function clear(){
                document.getElementById("in2").value="";
            }
            function hang(){
                var i;
                y=getUserInput(); 
                if (y== "{"){
                    document.write("Your chances are over and better luck next time..!");
                    return;
                }
                    for(i=0;i<answer.length;i++){  
                         
                        if(y==answer[i] && question[i]=='_'){
                            question[i] = answer[i];
                            flag1=1;
                        }
                    }
                
                    if(flag1 == 0 && flag2==0)
                        chances -= 1;

                    if (flag2==1)
                        document.write("You have entered a word which you have entered already <br/>"); 
                    for(i=0;i<question.length;i++){
                        if(question[i] == '_'){
                            flag = 1;
                            break;
                        }
                    }
                    
                    y=null;
                    if (flag == 1){
                        for(i=0;i<question.length;i++)
                            document.write(question[i]);
                        document.write("<br/>");    
                        document.write("Remaining chances:"+chances+"<br/>");
                        clear();
                    }

                    else {
                        for(i=0;i<question.length;i++)
                            document.write(question[i]);
                        document.write("<br/>HURRRAAAHHH...!!! You won");
                    }
                    flag=0;
                    flag1=0;
                    flag2=0;
                    }
         

        </script>
    </head>

    <body>
        <p>Do You want to play ? (y/n)</p>
        <input id="in1" type="text" />
        <input type="button" value="Enter" onclick=play() />
    </body>
</html>